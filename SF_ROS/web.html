<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<link href="data:text/css;charset=utf-8," data-href="bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" rel="stylesheet" id="bs-theme-stylesheet">
<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="css/sfstyle.css">
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/easeljs.min.js"></script>
<script type="text/javascript" src="js/eventemitter2.min.js"></script>
<script type="text/javascript" src="js/roslib.min.js"></script>
<script type="text/javascript" src="js/ros2d.min.js"></script>
<script type="text/javascript" src="js/nav2d.js"></script>
<script type="text/javascript" src="js/FileSaver.min.js"></script>
<script type="text/javascript" src="js/vue2.5.22.min.js"></script>

<script type="text/javascript">
function init() {
  // Connect to ROS.
  var ros = new ROSLIB.Ros({
    url : 'ws://192.168.236.129:9090'
  });

  // Create the main viewer.
  var viewer = new ROS2D.Viewer({
    divID : 'nav',
    width : 750,
    height : 800
  });

  // Setup the nav client.
  var ogcNav = NAV2D.OccupancyGridClientNav({
    ros : ros,
    rootObject : viewer.scene,
    viewer : viewer,
    serverName : '/move_base',
    withOrientation: true,
    continuous: true,
    state: app
  });
}
</script>
</head>

<body onload="init()">
  <div id="nav"></div>
  <div id="app">
    <button id="cancel_nav_current" class="btn btn-primary" v-on:click="cancel_current">取消当前目标</button>
    <button id="cancel_nav_all" class="btn btn-primary" v-on:click="cancel_all">取消所有目标</button>
    <button id="start" class="btn btn-primary" v-on:click="start">开始</button>
    <button id="pause" class="btn btn-primary" v-on:click="pause">暂停</button> 
    <button id="save" class="btn btn-primary" v-on:click="save">导出标记点</button>
    <div class="alert alert-success alert-dismissible" role="alert" v-if="showSucc" v-on:click="showSucc=false">导出成功</div>
    <div class="alert alert-danger alert-dismissible" role="alert" v-if="showFail" v-on:click="showFail=false">导出失败</div>
    <hr>
    <!-- <div class="position-table"> -->
      <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>#</th>
              <th>名称</th>
              <th>坐标</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(item, index) in temp_pose_list">
              <th scope="row">{{index + 1}}</th>
              <td>{{'名称' + (index + 1)}}</td>
              <td>{{position_str.format(item.position.x.toFixed(3), item.position.y.toFixed(3), item.position.z.toFixed(3))}}</td>
            </tr>
          </tbody>
        </table>
    </div>
  </div>
  <script type="text/javascript" src="js/sfrobot.js"></script>
</body>
</html>
